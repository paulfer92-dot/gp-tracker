<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>My GP Tracker</title>
    <style>
        :root {
            --inv-bg: #4e4435;
            --osrs-yellow: #ffff00;
            --osrs-white: #ffffff;
            --osrs-green: #00ff00;
        }

        body {
            background-color: #000;
            color: #ff981f;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: 'Courier New', Courier, monospace; /* Closest system font to OSRS */
            cursor: url('https://oldschool.runescape.wiki/images/Cursor_default.png'), auto;
            overflow: hidden;
        }

        /* The Inventory Tab UI */
        .inventory-tab {
            width: 200px;
            background-color: var(--inv-bg);
            border: 4px solid #3e3529;
            padding: 10px;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 6px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            background-image: url('https://www.transparenttextures.com/patterns/dark-leather.png'); /* Subtle texture */
        }

        .slot {
            width: 42px;
            height: 38px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 3px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: inset 1px 1px 2px #000;
        }

        .coin-icon {
            width: 32px;
            height: 32px;
            image-rendering: pixelated;
        }

        .stack-amount {
            position: absolute;
            top: -2px;
            left: 0;
            font-size: 13px;
            font-weight: bold;
            text-shadow: 1px 1px 0px #000;
        }

        .yellow { color: var(--osrs-yellow); }
        .white { color: var(--osrs-white); }
        .green { color: var(--osrs-green); }

        /* Settings Bar */
        .settings {
            margin-top: 20px;
            display: flex;
            gap: 5px;
        }

        input {
            background: #2e281f;
            border: 1px solid #ff981f;
            color: white;
            padding: 8px;
            width: 120px;
            outline: none;
        }

        button {
            background: #5d5342;
            color: #ff981f;
            border: 1px solid #000;
            padding: 5px 10px;
            font-weight: bold;
            cursor: url('https://oldschool.runescape.wiki/images/Cursor_interaction.png'), pointer;
        }
    </style>
</head>
<body>

    <div class="inventory-tab" id="inv">
        <div class="slot">
            <img id="coin-img" src="https://oldschool.runescape.wiki/images/Coins_10000.png" class="coin-icon">
            <span id="amount-text" class="stack-amount yellow">0</span>
        </div>
        <script>
            for(let i=0; i<27; i++) document.write('<div class="slot"></div>');
        </script>
    </div>

    <div class="settings">
        <input type="number" id="balance-input" placeholder="GP Amount...">
        <button onclick="updateBalance()">SET</button>
    </div>

    <script>
        const amountDisplay = document.getElementById('amount-text');
        const inputField = document.getElementById('balance-input');
        const coinSound = new Audio('https://oldschool.runescape.wiki/images/Inventory_item_drop.wav');

        function updateDisplay(value) {
            let displayValue = value;
            let colorClass = 'yellow';

            if (value >= 10000000) {
                displayValue = Math.floor(value / 1000000) + 'M';
                colorClass = 'green';
            } else if (value >= 100000) {
                displayValue = Math.floor(value / 1000) + 'K';
                colorClass = 'white';
            } else if (value >= 1000) {
                displayValue = Math.floor(value / 1000) + 'K';
                colorClass = 'yellow';
            }

            amountDisplay.innerText = displayValue;
            amountDisplay.className = `stack-amount ${colorClass}`;
            localStorage.setItem('savingsBalance', value);
        }

        function updateBalance() {
            const newVal = parseInt(inputField.value) || 0;
            const oldVal = parseInt(localStorage.getItem('savingsBalance')) || 0;

            if (newVal > oldVal) {
                coinSound.currentTime = 0;
                coinSound.play();
            }
            updateDisplay(newVal);
        }

        // Init
        const saved = localStorage.getItem('savingsBalance');
        if (saved) {
            updateDisplay(parseInt(saved));
            inputField.value = saved;
        }
    </script>
</body>
</html>
